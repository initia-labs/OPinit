syntax = "proto3";
package opinit.ophost.v1;

import "amino/amino.proto";
import "gogoproto/gogo.proto";
import "opinit/ophost/v1/types.proto";

option go_package = "github.com/initia-labs/OPinit/x/ophost/types";
option (gogoproto.equal_all) = true;

// AttestorSetUpdatePacketData defines the packet data for attestor set updates from L1 to L2.
message AttestorSetUpdatePacketData {
  // bridge_id is the unique identifier of the bridge.
  uint64 bridge_id = 1 [(gogoproto.moretags) = "yaml:\"bridge_id\""];

  // attestor_set is the new set of attestors.
  repeated Attestor attestor_set = 2 [
    (gogoproto.nullable) = false,
    (amino.dont_omitempty) = true,
    (gogoproto.moretags) = "yaml:\"attestor_set\""
  ];

  // l1_block_height is the L1 block height at which this update occurred.
  uint64 l1_block_height = 3 [(gogoproto.moretags) = "yaml:\"l1_block_height\""];
}

// AttestorSetUpdatePacketAck defines the acknowledgement for attestor set update packets.
message AttestorSetUpdatePacketAck {
  // success indicates whether the update was successful.
  bool success = 1;

  // error contains the error message if success is false.
  string error = 2;
}
